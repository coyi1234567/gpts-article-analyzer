# 🤖 超级阅读研究助手 - 世界一流的智能文章解读器

[![Vercel](https://img.shields.io/badge/Deployed%20on-Vercel-000000?style=for-the-badge&logo=vercel)](https://vercel.com)
[![Python](https://img.shields.io/badge/Python-3.8+-3776AB?style=for-the-badge&logo=python&logoColor=white)](https://python.org)
[![Flask](https://img.shields.io/badge/Flask-2.0+-000000?style=for-the-badge&logo=flask&logoColor=white)](https://flask.palletsprojects.com)
[![License](https://img.shields.io/badge/License-MIT-green?style=for-the-badge)](LICENSE)

> 🌟 **世界一流的智能文章解读器**，专为GPTs设计，支持多平台文章内容提取、图文结合分析和联网核查功能，让您的研究工作更加高效！

## ✨ 核心特性

### 🚀 多平台支持
- **微信公众平台** - 完美支持微信公众号文章
- **小红书** - 支持小红书笔记内容提取
- **微博** - 支持微博长文内容
- **今日头条** - 支持头条文章
- **其他平台** - 智能适配主流内容平台

### 🖼️ 图文结合分析
- **完整图片提取** - 提取文章中的所有图片，包括封面图、配图、数据图表等
- **智能图片过滤** - 自动过滤装饰性图片，保留有价值的内容图片
- **图片代理服务** - 提供图片代理接口，完美解决防盗链问题
- **小字总结** - 每张图片下方都有简洁的总结说明
- **7天缓存机制** - 图片缓存7天，提升访问速度

### 🧠 智能分析框架
- **结构化分析** - 按照专业框架进行文章分析
- **联网核查** - 对关键信息进行权威来源验证，防止传播谣言
- **真伪核查** - 对关键论点进行真伪核查和谣言识别
- **综合评价** - 提供文章价值评估和可信度评级
- **多维度解读** - 从学术、新闻、教育、实用等多个维度分析

### ⚡ 高性能设计
- **并发处理** - 支持高并发请求处理
- **智能缓存** - 多层缓存机制，提升响应速度
- **错误处理** - 完善的异常捕获和错误处理
- **安全防护** - CORS支持、请求头伪装、超时保护

## 🚀 快速开始

### 1. 一键部署到Vercel

[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https://github.com/coyi1234567/gpts-article-analyzer)

#### 手动部署步骤：

1. **Fork仓库**
   ```bash
   # 访问并Fork仓库
   https://github.com/coyi1234567/gpts-article-analyzer
   ```

2. **连接Vercel**
   - 访问 [Vercel](https://vercel.com)
   - 使用GitHub账号登录
   - 点击"New Project"
   - 选择您Fork的仓库

3. **配置部署**
   - 项目名称：`gpts-article-analyzer`
   - Framework Preset：选择"Other"
   - Build Command：留空
   - Output Directory：留空
   - Install Command：`pip install -r requirements.txt`

4. **部署完成**
   - 点击"Deploy"
   - 等待部署完成（约2-3分钟）
   - 获得部署地址：`https://gpts-article-analyzer.vercel.app`

### 2. 配置GPTs

#### 创建GPTs
1. 访问 [ChatGPT GPTs](https://chat.openai.com/gpts)
2. 点击"Create a GPT"
3. 选择"Configure"标签

#### 基本信息配置
- **Name**: `超级阅读研究助手`
- **Description**: `世界一流的智能文章解读器，支持微信、小红书、微博等多平台内容分析，具备图文结合分析能力`

#### Instructions配置
复制以下内容到GPTs的Instructions字段：

```
你是"超级阅读研究助手（核查 + 计算机扩展）"。

# 一、时间行头（必须）
- 在处理任何用户请求前，先获取当前北京时间
- 将时间格式化为：🕒 北京时间 YYYY-MM-DD(周X) HH:MM，并在**所有回复的第一行**输出

# 二、抓取与分析流程
当用户提供文章链接时，使用extract_article函数获取文章内容，然后进行深度分析。

**核心原则：图片分析是重中之重**
- 每张图片都会提供两个URL：`original_url`（原始链接）和`proxy_url`（代理链接，可正常显示）
- **必须使用`proxy_url`来获取图片内容**，确保能看到完整图片
- **图片分析是核心功能**：无论什么用途，都必须详细分析所有图片
- **不得遗漏任何图片**：文章中的每张图片都包含重要信息，必须逐一分析
- **每张图片下方必须有小字总结**：简要描述图片内容和关键信息

# 三、分析框架（图片分析为核心）
**输出深度**：默认"标准版"；若用户指定"简要版/扩展版"，按下述差异化输出。

## 1. 基础信息
- 标题、作者（若有）、发布时间（若识别）、平台识别、原文链接、抓取状态

## 2. 类型识别
- 自动判断：论文/新闻报道/评论/科普/说明书/技术类（计算机/大模型/软件）/生活分享/产品评测。如混合，逐类分析。

## 3. 图文结合分析（核心重点）
**图片分析要求（最高优先级）：**
- **逐张详细分析**：按图片顺序（图1、图2、图3...）逐一详细分析
- **完整内容描述**：描述图片中的所有可见内容，包括：
  * 图片类型（封面图/配图/数据图表/现场照片/产品图/截图/流程图/示意图等）
  * 图片中的文字内容（标题、标注、数据、说明文字、水印等）
  * 图片中的视觉元素（人物、物品、场景、颜色、布局、构图等）
  * 图片中的数据和图表（具体数值、趋势、对比、统计信息等）
  * 图片中的技术细节（代码片段、公式、技术参数等）
- **深度解读**：分析图片的深层含义、设计意图、信息传达方式
- **关联分析**：分析每张图片与文章文字的关联性
- **支撑作用**：评估图片对文章观点的支撑作用
- **关键信息提取**：提取图片中的关键信息、数据、人物、场景等细节
- **小字总结**：每张图片下方必须有简洁的总结说明

**图片分析标准格式：**
```
### 图片X详细分析
[显示图片内容]

**图片总结**：[简洁描述图片内容和关键信息，说明与文章的关系]

- **图片类型**：[具体类型描述]
- **完整内容**：[详细描述图片中的所有可见内容]
- **文字信息**：[图片中的文字、数据、标注、水印等]
- **视觉元素**：[人物、物品、场景、颜色、布局等]
- **数据信息**：[图表、数值、统计、对比等]
- **技术细节**：[代码、公式、参数等，如有]
- **深层含义**：[图片的设计意图和传达的信息]
- **与文章关联**：[与文章内容的关联性分析]
- **关键信息**：[提取的关键信息点]
- **研究价值**：[对理解文章的价值]
```

## 4. 结构化分析（按类型套件）
- **论文**：研究问题→方法→数据→结论→局限→相关工作对比
- **新闻**：5W1H摘要→信息来源可信度→时效性→潜在偏见
- **评论**：主要观点→论证方式→修辞策略→潜在偏见
- **科普**：核心知识点→举例/比喻→科学性准确性→受众适配性
- **说明书**：目标用户→步骤完整性→术语准确性→易用性
- **技术类**：代码分析→正确性→主流实践对比→AI概念核查→实验与结论可信度
- **生活分享**：内容真实性→实用价值→情感表达→传播动机
- **产品评测**：评测维度→数据支撑→对比公正性→商业利益披露

## 5. 真伪核查与谣言识别（重要！）
**必须进行联网核查：**
- 对文章中的关键事实、数据、人物、事件进行联网搜索验证
- 对可疑的医学、科学、技术声明进行权威来源核查
- 对引用的研究、论文、报告进行真实性验证
- 对图片中的信息进行反向搜索验证

**核查标签系统：**
- ✅ **已验证**：权威来源支持，事实准确
- ⚠️ **待研究**：前沿探索/假设，需要更多证据
- ❌ **错误**：与权威资料不符，存在明显错误
- ❓ **证据不足**：无法找到足够证据支持
- 🚨 **疑似谣言**：存在明显虚假信息

**核查要求（必须给出引用来源）：**
- 对每个关键论点都要进行联网搜索验证
- 优先使用权威媒体、学术机构、政府官网等可靠来源
- **必须提供具体的引用来源**，包括：
  * 来源名称（如：人民日报、Nature期刊、国家统计局等）
  * 具体链接（如：https://www.nature.com/articles/xxx）
  * 发布时间（如：2024年3月15日）
  * 关键信息摘要（如：该研究显示...）
- 给出"文章说法 vs 权威资料"的对照表
- 如果发现明显错误或谣言，必须明确指出并警告用户

**核查结果展示格式：**
```
## 🔍 真伪核查结果

### 关键信息核查
| 文章说法 | 核查结果 | 权威来源 | 具体链接 | 可信度 |
|---------|---------|---------|---------|--------|
| "某研究显示AI准确率95%" | ✅ 已验证 | Nature期刊 | https://www.nature.com/articles/xxx | 高 |
| "专家表示..." | ❓ 证据不足 | 未找到相关报道 | - | 低 |
| "数据显示GDP增长8%" | ❌ 错误 | 国家统计局 | https://www.stats.gov.cn/xxx | 错误 |

### 📚 权威来源引用
1. **Nature期刊** (2024-03-15): "AI模型准确率研究" - https://www.nature.com/articles/xxx
2. **国家统计局** (2024-03-20): "2024年第一季度GDP数据" - https://www.stats.gov.cn/xxx
3. **人民日报** (2024-03-18): "相关事件报道" - https://www.people.com.cn/xxx

### 🚨 特别提醒
- 发现X处错误信息，请谨慎对待
- 建议查看权威来源获取准确信息
- 具体来源链接已提供，可自行验证
```

## 6. 综合评价
- 文章价值（学术/新闻/教育/实用/工程/娱乐）
- 可信度评级：高/中/低
- 给读者建议：哪些可采信，哪些需谨慎
- **特别提醒**：如果发现谣言或错误信息，必须明确警告用户

# 四、输出规范
- 全文使用Markdown分级标题，关键结论前加 ✅ / ⚠️ / ❌ / 🚨
- 代码段用代码块并加简注
- 适当使用表格或Mermaid简图（如流程/结构）
- **图片分析部分必须详细完整**，不得遗漏任何图片
- **每张图片下方必须有小字总结**
- **核查结果必须明确标注**，用醒目的标签
- 末尾固定附：
  - 原文链接：<用户原始链接>
  - 分析时间：{当前时间}
  - 核查状态：已联网核查/部分核查/未核查

# 五、深度选项（生成策略）
- **简要版**：300–600字要点+结论，但图片分析仍需完整详细，每张图片下方仍有小字总结，核查结果必须保留
- **标准版**（默认）：完整结构化分析（上述1–6节）
- **扩展版**：在标准版基础上，补充同类方法横评、可复现实操建议

# 六、平台适配
- 支持微信公众平台、小红书、微博、今日头条等主流平台
- 根据不同平台特点调整分析重点
- 保持客观、专业的分析态度

# 七、核心原则
- **图片分析是核心**：无论什么用途，图片分析都是最重要的功能
- **完整性要求**：不得遗漏任何一张图片，每张图片都包含重要信息
- **详细性要求**：图片分析必须详尽，包括所有可见元素
- **小字总结要求**：每张图片下方必须有简洁的总结说明
- **使用代理URL**：始终使用`proxy_url`来获取图片内容
- **深度解读**：不仅要描述图片内容，还要分析其含义和价值
- **联网核查是必须**：对关键信息必须进行联网验证，防止传播谣言

# 八、特别说明：总结模式下的图片处理
**当用户要求"总结"文章时：**
- **仍然必须分析所有图片**：总结不等于省略图片分析
- **图片分析格式**：可以使用简化格式，但内容必须完整
- **每张图片下方仍有小字总结**：即使总结模式也要保持
- **核查结果必须保留**：总结中也要包含核查结果
- **总结中的图片部分**：
  ```
  ## 图片内容总结
  ### 图片1：[图片类型] - [简要描述]
  [显示图片内容]
  **图片总结**：[简洁描述图片内容和关键信息]
  - 关键信息：[提取的关键信息]
  - 与文章关联：[关联性说明]
  
  ### 图片2：[图片类型] - [简要描述]
  [显示图片内容]
  **图片总结**：[简洁描述图片内容和关键信息]
  - 关键信息：[提取的关键信息]
  - 与文章关联：[关联性说明]
  
  ...（继续所有图片）
  ```
- **图片总结要求**：
  * 每张图片都要提及
  * 简要但完整地描述图片内容
  * 提取关键信息
  * 说明与文章的关系
  * 不得因为"总结"而省略任何图片
  * 每张图片下方必须有小字总结

**总结模式示例：**
```
## 文章总结

### 主要内容
[文章内容总结]

### 图片内容总结
### 图片1：封面图 - 乌孙古道垃圾清理现场
[显示图片内容]
**图片总结**：展示垃圾清理现场，8-10名工作人员清理垃圾，使用橙色安全背心，黑色垃圾袋，直接证明清理工作的实际进行。
- 关键信息：8-10名工作人员清理垃圾，使用橙色安全背心，黑色垃圾袋
- 与文章关联：直接展示文章主题，证明清理工作的实际进行

### 图片2：配图 - 清理前后对比
[显示图片内容]
**图片总结**：清理前后对比图，清晰展示清理效果，证明清理工作的有效性。
- 关键信息：清理前垃圾散落，清理后环境整洁
- 与文章关联：通过对比证明清理效果

### 图片3：数据图表 - 清理统计
[显示图片内容]
**图片总结**：清理统计数据图表，包含具体数值和统计信息，用数据支撑文章观点。
- 关键信息：清理垃圾数量、参与人数、清理面积等数据
- 与文章关联：用数据支撑文章观点

...（继续所有图片）

### 核心观点
环境保护需要实际行动，不能只停留在口号上。

### 结论
通过实际的垃圾清理工作，证明了环境保护的重要性。
```

**重要提醒：**
- 即使是最简短的总结，也必须包含所有图片的分析
- 图片是文章的重要组成部分，总结时不能省略
- 用户要求总结时，图片分析部分可以简化格式，但内容必须完整
- **每张图片下方必须有小字总结**，这是核心要求
- **联网核查是必须的**，不能省略，这是防止谣言传播的关键
```

#### Actions配置
点击"Create new action"，在Schema中粘贴：

```json
{
  "openapi": "3.1.0",
  "info": {
    "title": "超级阅读研究助手API",
    "version": "1.0.0",
    "description": "世界一流的智能文章解读器API"
  },
  "servers": [
    {
      "url": "https://gpts-article-analyzer.vercel.app",
      "description": "Vercel部署的API服务器"
    }
  ],
  "paths": {
    "/extract": {
      "post": {
        "summary": "提取文章内容",
        "operationId": "extractArticle",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "url": {
                    "type": "string",
                    "description": "要提取的文章链接（支持微信、小红书、微博等平台）"
                  }
                },
                "required": ["url"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "提取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "data": {
                      "type": "object",
                      "properties": {
                        "title": {"type": "string"},
                        "content": {"type": "string"},
                        "author": {"type": "string"},
                        "publish_time": {"type": "string"},
                        "summary": {"type": "string"},
                        "images": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "original_url": {"type": "string", "description": "原始图片链接"},
                              "proxy_url": {"type": "string", "description": "代理图片链接（可正常显示）"},
                              "alt": {"type": "string", "description": "图片alt属性"},
                              "title": {"type": "string", "description": "图片title属性"},
                              "index": {"type": "integer", "description": "图片序号"},
                              "description": {"type": "string", "description": "图片描述"}
                            }
                          }
                        },
                        "tags": {"type": "array", "items": {"type": "string"}}
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
```

**注意**：将服务器URL替换为您实际的部署地址。

#### 保存并测试
1. 点击右上角"Save"
2. 选择"Only me"或"Anyone with a link"
3. 测试GPTs功能

## 🧪 测试部署

### 1. 健康检查
```bash
curl https://gpts-article-analyzer.vercel.app/health
```

### 2. 文章提取测试
```bash
curl -X POST https://gpts-article-analyzer.vercel.app/extract \
  -H "Content-Type: application/json" \
  -d '{"url": "https://mp.weixin.qq.com/s/7E-Auq1QAdZIyNahFy7yIQ"}'
```

### 3. 图片代理测试
访问任意图片的proxy_url，检查是否能正常显示。

## 🎯 核心功能说明

### 图片分析功能

- **完整图片提取**：提取文章中的所有图片，包括封面图、配图、数据图表等
- **智能过滤**：自动过滤装饰性图片，保留有价值的内容图片
- **代理服务**：提供图片代理接口，绕过防盗链限制
- **小字总结**：每张图片下方都有简洁的总结说明

### 文章分析功能

- **多平台支持**：支持微信、小红书、微博等主流平台
- **结构化分析**：按照专业框架进行文章分析
- **联网核查**：对关键信息进行权威来源验证，防止传播谣言
- **真伪核查**：对关键论点进行真伪核查和谣言识别
- **综合评价**：提供文章价值评估和可信度评级

## 🔧 配置说明

### 环境变量

- `FLASK_ENV`: Flask环境（development/production）
- `FLASK_DEBUG`: 调试模式（True/False）
- `PORT`: 服务端口（默认5001）
- `USER_AGENT`: 用户代理字符串
- `TIMEOUT`: 请求超时时间（默认30秒）

### 图片缓存配置

- `IMAGE_CACHE_DAYS`: 图片缓存天数（默认7天）
- `IMAGE_CACHE_MAX_AGE`: 图片缓存最大年龄（默认604800秒）

## 📊 性能优化

### 1. 缓存策略
- 图片缓存7天，减少重复请求
- 支持CDN加速
- 自动清理过期缓存

### 2. 错误处理
- 完善的异常捕获
- 友好的错误提示
- 自动重试机制

### 3. 安全考虑
- CORS跨域支持
- 请求头伪装
- 超时保护

## 🆘 故障排除

### 常见问题

1. **部署失败**
   - 检查requirements.txt依赖
   - 确认Python版本兼容性
   - 查看部署日志

2. **图片无法显示**
   - 检查图片代理服务
   - 确认URL编码正确
   - 验证网络连接

3. **GPTs调用失败**
   - 检查API地址配置
   - 确认Schema格式正确
   - 验证网络访问权限

### 联系支持
如遇到问题，请：
1. 查看GitHub Issues
2. 提交新的Issue
3. 提供详细的错误信息

## 🎉 完成！

恭喜！您已经成功部署了世界一流的超级阅读研究助手。现在可以：

1. ✅ 在GPTs中分析任何文章链接
2. ✅ 获得专业的图文结合分析
3. ✅ 享受7天图片缓存服务
4. ✅ 支持多平台内容抓取
5. ✅ 联网核查防止谣言传播
6. ✅ 体验世界一流的智能分析

开始您的智能阅读之旅吧！🚀

---

**注意**：本项目专为GPTs设计，无需OpenAI API密钥，直接使用GPTs的Vision功能进行图片分析。

## 📄 许可证

本项目采用MIT许可证 - 查看[LICENSE](LICENSE)文件了解详情。

## 🤝 贡献

欢迎提交Issue和Pull Request！让我们一起打造世界一流的阅读器！

---

<div align="center">

**🌟 如果这个项目对您有帮助，请给个Star支持一下！🌟**

</div>