# 🚀 GPTs文章提取器部署指南

## 📋 项目说明

这是一个专门为GPTs设计的文章内容提取服务，不需要OpenAI API Key，只需要抓取网页内容（文字+图片URL）传递给GPTs进行分析。

## 🎯 核心功能

- ✅ 抓取网页文章内容
- ✅ 提取文章标题、正文、作者等信息
- ✅ 获取文章中的图片URL
- ✅ 为GPTs提供结构化的数据
- ✅ 支持微信文章、网页文章等

## 🚀 部署方案

### 方案1：Railway（推荐，免费）

1. **注册Railway账户**
   - 访问：https://railway.app
   - 使用GitHub账号登录

2. **部署项目**
   - 点击 "New Project"
   - 选择 "Deploy from GitHub repo"
   - 选择这个项目仓库
   - Railway会自动检测到Python项目并部署

3. **获取部署地址**
   - 部署完成后，Railway会提供一个公网地址
   - 类似：`https://your-project.railway.app`

### 方案2：Render（免费）

1. **注册Render账户**
   - 访问：https://render.com
   - 使用GitHub账号登录

2. **创建Web Service**
   - 点击 "New" → "Web Service"
   - 连接GitHub仓库
   - 设置：
     - Build Command: `pip install -r requirements.txt`
     - Start Command: `python app.py`

3. **获取部署地址**
   - 部署完成后获得公网地址

### 方案3：Heroku（免费额度有限）

1. **安装Heroku CLI**
2. **创建Heroku应用**
   ```bash
   heroku create your-app-name
   ```
3. **部署**
   ```bash
   git push heroku main
   ```

## 🧪 测试部署

部署完成后，测试API：

```bash
# 测试健康检查
curl https://your-deployed-url.railway.app/health

# 测试文章提取
curl -X POST https://your-deployed-url.railway.app/extract \
  -H "Content-Type: application/json" \
  -d '{"url": "https://mp.weixin.qq.com/s/example"}'
```

## 🤖 创建GPTs

### 1. 打开ChatGPT
- 访问：https://chat.openai.com
- 点击 "Explore" → "Create a GPT"

### 2. 配置基本信息
- **Name**: `智能文章解读器`
- **Description**: `一个能够解读各种网页文章（包括微信文章）的智能助手，支持图文内容分析`

### 3. 配置Instructions
```
你是一个专业的文章解读助手。当用户提供文章链接时，使用extract_article函数获取文章内容，然后进行深度分析。

请从以下角度进行分析：
- 内容质量评估
- 核心观点提炼
- 逻辑结构分析
- 图片内容解读（如果有图片）
- 写作技巧评价
- 传播价值判断
- 目标受众分析

请始终保持客观、专业的分析态度。
```

### 4. 配置Actions
**点击 "Create new action"**，在Schema中粘贴：

```json
{
  "openapi": "3.0.0",
  "info": {
    "title": "文章提取API",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "https://your-deployed-url.railway.app",
      "description": "部署的API服务器"
    }
  ],
  "paths": {
    "/extract": {
      "post": {
        "summary": "提取文章内容",
        "operationId": "extractArticle",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "url": {
                    "type": "string",
                    "description": "要提取的文章链接"
                  }
                },
                "required": ["url"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "提取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "data": {
                      "type": "object",
                      "properties": {
                        "title": {"type": "string"},
                        "content": {"type": "string"},
                        "author": {"type": "string"},
                        "publish_time": {"type": "string"},
                        "summary": {"type": "string"},
                        "images": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "url": {"type": "string"},
                              "alt": {"type": "string"},
                              "title": {"type": "string"}
                            }
                          }
                        },
                        "tags": {"type": "array", "items": {"type": "string"}}
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
```

**Authentication**: 选择 "None"

### 5. 测试GPTs
发送测试消息：
```
请分析这篇文章：https://mp.weixin.qq.com/s/example
```

## 📱 使用方式

在ChatGPT中直接发送：
```
请分析这篇文章：[文章链接]
```

GPTs会：
1. 调用API提取文章内容
2. 分析文字内容
3. 查看图片内容（如果有）
4. 提供综合解读报告

## 🎉 完成！

现在您就拥有了一个完整的智能文章解读器GPTs！

- ✅ 部署了文章提取API
- ✅ 创建了GPTs
- ✅ 可以分析各种网页文章
- ✅ 支持图文内容解读
